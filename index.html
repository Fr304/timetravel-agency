<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TimeTravel Agency ‚Äî Explorez l'histoire, r√©invent√©e</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Cormorant+Garamond:wght@300;400;600&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --gold: #C9A84C;
    --gold-light: #E8C97A;
    --gold-dim: #7A6030;
    --bg: #080808;
    --bg2: #0F0F0F;
    --bg3: #161616;
    --text: #F0EAD6;
    --text-dim: #8A8070;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  html { scroll-behavior:smooth; }
  body { background:var(--bg); color:var(--text); font-family:'Cormorant Garamond',serif; font-weight:300; overflow-x:hidden; cursor:none; }

  /* Cursor */
  .cursor { position:fixed; width:8px; height:8px; background:var(--gold); border-radius:50%; pointer-events:none; z-index:99999; transition:transform .15s; mix-blend-mode:difference; }
  .cursor-ring { position:fixed; width:36px; height:36px; border:1px solid var(--gold); border-radius:50%; pointer-events:none; z-index:99998; transition:width .3s,height .3s,opacity .3s; opacity:.5; }

  /* Noise overlay */
  body::before { content:''; position:fixed; inset:0; background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E"); pointer-events:none; z-index:9998; opacity:.35; }

  /* === HEADER === */
  header { position:fixed; top:0; left:0; right:0; z-index:1000; padding:20px 48px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid rgba(201,168,76,.12); background:rgba(8,8,8,.88); backdrop-filter:blur(14px); }
  .logo { font-family:'Playfair Display',serif; font-size:1.1rem; font-weight:900; letter-spacing:.15em; color:var(--gold); text-transform:uppercase; }
  .logo span { font-style:italic; font-weight:400; color:var(--text-dim); font-size:.8rem; display:block; letter-spacing:.3em; }
  nav { display:flex; gap:36px; }
  nav a { font-family:'Space Mono',monospace; font-size:.65rem; letter-spacing:.2em; text-transform:uppercase; color:var(--text-dim); text-decoration:none; transition:color .3s; cursor:none; }
  nav a:hover { color:var(--gold); }

  /* === HERO === */
  #hero { min-height:100vh; position:relative; overflow:hidden; display:flex; align-items:center; justify-content:center; padding:120px 48px 80px; }

  /* Hero ‚Äî Paris 1889 Image HERO gener√©e Session 1 */
  .hero-img {
    position:absolute; inset:0;
    background:url('https://Fr304.github.io/timetravel-agency/images/Paris%201889%20-%20Image%20HERO_format%20169.png') center/cover no-repeat;
    transform:scale(1.06);
    animation:heroZoom 20s ease-in-out infinite alternate;
    filter:brightness(.28) sepia(.3);
  }
  @keyframes heroZoom { from{transform:scale(1.06)} to{transform:scale(1.13)} }
  .hero-overlay { position:absolute; inset:0; background:linear-gradient(to bottom,rgba(8,8,8,.35) 0%,rgba(8,8,8,.05) 40%,rgba(8,8,8,.65) 75%,rgba(8,8,8,1) 100%); }

  .hero-content { position:relative; text-align:center; max-width:900px; }
  .hero-eyebrow { font-family:'Space Mono',monospace; font-size:.65rem; letter-spacing:.4em; color:var(--gold); text-transform:uppercase; margin-bottom:32px; opacity:0; animation:fadeUp 1s .3s forwards; }
  .hero-title { font-family:'Playfair Display',serif; font-size:clamp(3.5rem,9vw,8rem); font-weight:900; line-height:.9; margin-bottom:32px; opacity:0; animation:fadeUp 1s .6s forwards; }
  .hero-title em { font-style:italic; color:var(--gold); display:block; }
  .hero-subtitle { font-size:1.3rem; color:var(--text-dim); max-width:600px; margin:0 auto 56px; line-height:1.7; opacity:0; animation:fadeUp 1s .9s forwards; }
  .hero-cta { display:flex; gap:20px; justify-content:center; flex-wrap:wrap; opacity:0; animation:fadeUp 1s 1.2s forwards; }
  @keyframes fadeUp { from{opacity:0;transform:translateY(30px)} to{opacity:1;transform:translateY(0)} }

  .btn-primary { padding:16px 40px; background:var(--gold); color:var(--bg); font-family:'Space Mono',monospace; font-size:.7rem; letter-spacing:.2em; text-transform:uppercase; text-decoration:none; border:none; cursor:none; transition:background .3s; display:inline-block; }
  .btn-primary:hover { background:var(--gold-light); }
  .btn-ghost { padding:16px 40px; background:transparent; color:var(--text); font-family:'Space Mono',monospace; font-size:.7rem; letter-spacing:.2em; text-transform:uppercase; text-decoration:none; border:1px solid rgba(201,168,76,.3); cursor:none; transition:all .3s; }
  .btn-ghost:hover { border-color:var(--gold); color:var(--gold); }

  .scroll-indicator { position:absolute; bottom:40px; left:50%; transform:translateX(-50%); display:flex; flex-direction:column; align-items:center; gap:8px; opacity:0; animation:fadeUp 1s 1.8s forwards; }
  .scroll-indicator span { font-family:'Space Mono',monospace; font-size:.55rem; letter-spacing:.3em; color:var(--text-dim); text-transform:uppercase; }
  .scroll-line { width:1px; height:60px; background:linear-gradient(to bottom,var(--gold),transparent); animation:scrollLine 2s ease-in-out infinite; }
  @keyframes scrollLine { 0%,100%{opacity:.3;transform:scaleY(.5)} 50%{opacity:1;transform:scaleY(1)} }

  /* === SECTION HEADER === */
  .section-header { text-align:center; margin-bottom:80px; }
  .section-tag { font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:.4em; color:var(--gold); text-transform:uppercase; margin-bottom:16px; display:block; }
  .section-title { font-family:'Playfair Display',serif; font-size:clamp(2rem,5vw,4rem); font-weight:700; line-height:1.1; }
  .section-title em { font-style:italic; color:var(--gold); }
  .section-line { width:60px; height:1px; background:var(--gold); margin:24px auto 0; opacity:.6; }

  /* === STATS === */
  #stats { padding:80px 48px; border-top:1px solid rgba(201,168,76,.08); border-bottom:1px solid rgba(201,168,76,.08); }
  .stats-grid { display:flex; justify-content:center; gap:80px; max-width:900px; margin:0 auto; flex-wrap:wrap; }
  .stat-item { text-align:center; }
  .stat-number { font-family:'Playfair Display',serif; font-size:3.5rem; font-weight:900; color:var(--gold); line-height:1; margin-bottom:8px; }
  .stat-label { font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:.3em; text-transform:uppercase; color:var(--text-dim); }

  /* === DESTINATIONS === */
  #destinations { padding:140px 48px; background:var(--bg2); position:relative; }
  #destinations::before { content:''; position:absolute; top:0; left:0; right:0; height:1px; background:linear-gradient(to right,transparent,var(--gold-dim),transparent); }

  .destinations-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:3px; max-width:1200px; margin:0 auto; }

  .destination-card { position:relative; height:640px; overflow:hidden; cursor:none; background:var(--bg3); }

  /* Carrousel d'images ‚Äî 3 images par destination (g√©n√©r√©es Session 1) */
  .card-img {
    position:absolute; inset:0;
    background-size:cover; background-position:center;
    transition:opacity 1.2s ease, transform .7s ease, filter .5s ease;
    filter:brightness(.52) saturate(.75);
  }
  .destination-card:hover .card-img { transform:scale(1.07); filter:brightness(.42) saturate(.85); }

  /* Slides carrousel */
  .card-slide {
    position:absolute; inset:0;
    background-size:cover; background-position:center;
    opacity:0;
    transition:opacity 1.4s ease;
  }
  .card-slide.active { opacity:1; }

  /* Indicateurs carrousel */
  .card-dots {
    position:absolute; top:20px; right:20px;
    display:flex; gap:6px; z-index:10;
  }
  .card-dot {
    width:6px; height:6px; border-radius:50%;
    background:rgba(201,168,76,.3);
    transition:background .4s;
  }
  .card-dot.active { background:var(--gold); }

  .card-gradient { position:absolute; inset:0; background:linear-gradient(to bottom,transparent 20%,rgba(8,8,8,.97) 80%); }

  .card-content { position:absolute; bottom:0; left:0; right:0; padding:40px; transform:translateY(8px); transition:transform .5s; }
  .destination-card:hover .card-content { transform:translateY(0); }
  .card-year { font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:.4em; color:var(--text-dim); text-transform:uppercase; margin-bottom:10px; transition:color .3s; }
  .destination-card:hover .card-year { color:var(--gold); }
  .card-title { font-family:'Playfair Display',serif; font-size:2.2rem; font-weight:700; margin-bottom:8px; line-height:1.1; }
  .card-subtitle { font-size:.95rem; color:var(--text-dim); margin-bottom:16px; }
  .card-expand { opacity:0; transform:translateY(10px); transition:all .4s .1s; }
  .destination-card:hover .card-expand { opacity:1; transform:translateY(0); }
  .card-desc { font-size:.9rem; line-height:1.6; color:#9A9080; font-style:italic; margin-bottom:12px; }
  .card-price { font-family:'Space Mono',monospace; font-size:.75rem; color:var(--gold); letter-spacing:.1em; margin-bottom:14px; }
  .card-btn { display:inline-block; padding:10px 24px; border:1px solid rgba(201,168,76,.4); font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:.2em; text-transform:uppercase; color:var(--gold); text-decoration:none; cursor:none; transition:all .3s; background:none; }
  .card-btn:hover { background:var(--gold); color:var(--bg); }

  /* === QUIZ === */
  #quiz { padding:140px 48px; background:var(--bg); }
  .quiz-container { max-width:700px; margin:0 auto; }
  .quiz-progress { display:flex; gap:6px; margin-bottom:48px; }
  .quiz-progress-bar { height:2px; flex:1; background:rgba(201,168,76,.15); transition:background .4s; }
  .quiz-progress-bar.active { background:var(--gold); }
  .quiz-question { display:none; }
  .quiz-question.active { display:block; animation:fadeUp .5s ease; }
  .quiz-q-number { font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:.3em; color:var(--gold); text-transform:uppercase; margin-bottom:16px; }
  .quiz-q-text { font-family:'Playfair Display',serif; font-size:1.8rem; font-weight:700; margin-bottom:36px; line-height:1.3; }
  .quiz-options { display:flex; flex-direction:column; gap:12px; }
  .quiz-option { padding:18px 24px; border:1px solid rgba(201,168,76,.15); background:transparent; color:var(--text); font-family:'Cormorant Garamond',serif; font-size:1.1rem; text-align:left; cursor:none; transition:all .3s; }
  .quiz-option:hover { border-color:rgba(201,168,76,.4); color:var(--gold-light); }
  .quiz-option.selected { border-color:var(--gold); background:rgba(201,168,76,.08); color:var(--gold-light); }
  .opt-letter { font-family:'Space Mono',monospace; font-size:.6rem; color:var(--gold); margin-right:12px; }
  .quiz-result { display:none; animation:fadeUp .6s ease; }
  .quiz-result.show { display:block; }
  .result-card { padding:48px; border:1px solid rgba(201,168,76,.2); background:linear-gradient(135deg,rgba(201,168,76,.03),transparent); text-align:center; }
  .result-destination { font-family:'Playfair Display',serif; font-size:3rem; font-weight:900; color:var(--gold); margin:16px 0; }
  .result-desc { font-size:1.1rem; color:var(--text-dim); max-width:500px; margin:0 auto 32px; line-height:1.7; font-style:italic; }
  .quiz-restart { background:none; border:1px solid rgba(201,168,76,.3); color:var(--text-dim); font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:.2em; text-transform:uppercase; padding:10px 24px; cursor:none; transition:all .3s; margin-top:16px; }
  .quiz-restart:hover { border-color:var(--gold); color:var(--gold); }

  /* === CHATBOT === */
  .chatbot-toggle { position:fixed; bottom:32px; right:32px; width:60px; height:60px; background:var(--gold); border:none; cursor:none; z-index:9000; display:flex; align-items:center; justify-content:center; transition:all .3s; box-shadow:0 0 40px rgba(201,168,76,.35); }
  .chatbot-toggle:hover { background:var(--gold-light); box-shadow:0 0 60px rgba(201,168,76,.55); }
  .chatbot-toggle svg { width:24px; height:24px; fill:var(--bg); }

  .chatbot-window { position:fixed; bottom:108px; right:32px; width:390px; max-height:580px; background:#0C0C0C; border:1px solid rgba(201,168,76,.2); z-index:8999; display:none; flex-direction:column; box-shadow:0 20px 60px rgba(0,0,0,.85); }
  .chatbot-window.open { display:flex; animation:slideUp .3s ease; }
  @keyframes slideUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }

  .chat-header { padding:18px 24px; border-bottom:1px solid rgba(201,168,76,.12); display:flex; align-items:center; gap:12px; flex-shrink:0; }
  .chat-avatar { width:36px; height:36px; background:var(--gold); display:flex; align-items:center; justify-content:center; font-size:1rem; flex-shrink:0; color:var(--bg); font-weight:900; font-family:'Playfair Display',serif; }
  .chat-info h4 { font-family:'Playfair Display',serif; font-size:1rem; font-weight:700; }
  .chat-info p { font-family:'Space Mono',monospace; font-size:.55rem; letter-spacing:.12em; color:var(--gold); text-transform:uppercase; }
  .chat-status { margin-left:auto; display:flex; align-items:center; gap:6px; font-family:'Space Mono',monospace; font-size:.5rem; color:#4CAF50; letter-spacing:.1em; text-transform:uppercase; }
  .chat-status::before { content:''; width:6px; height:6px; background:#4CAF50; border-radius:50%; animation:blink 2s infinite; }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:.3} }

  /* API setup */
  /* Badge IA connect√©e */
  .ai-badge { margin:10px 16px 0; background:rgba(76,175,80,.07); border:1px solid rgba(76,175,80,.2); padding:8px 14px; flex-shrink:0; display:flex; align-items:center; gap:8px; }
  .ai-badge-dot { width:7px; height:7px; background:#4CAF50; border-radius:50%; flex-shrink:0; animation:blink 2s infinite; }
  .ai-badge-text { font-family:'Space Mono',monospace; font-size:.52rem; letter-spacing:.1em; color:#4CAF50; text-transform:uppercase; }

  .chat-messages { flex:1; overflow-y:auto; padding:16px 20px; display:flex; flex-direction:column; gap:14px; scrollbar-width:thin; scrollbar-color:rgba(201,168,76,.2) transparent; min-height:0; }
  .message { display:flex; gap:10px; animation:fadeUp .3s ease; }
  .message.user { flex-direction:row-reverse; }
  .msg-bubble { max-width:82%; padding:12px 16px; font-size:.9rem; line-height:1.55; font-family:'Cormorant Garamond',serif; }
  .message.bot .msg-bubble { background:rgba(201,168,76,.07); border:1px solid rgba(201,168,76,.12); color:var(--text); border-radius:0 8px 8px 8px; }
  .message.user .msg-bubble { background:rgba(201,168,76,.15); border:1px solid rgba(201,168,76,.2); color:var(--gold-light); border-radius:8px 0 8px 8px; }

  .typing-row { padding:0 20px 10px; display:none; }
  .typing-indicator { display:none; gap:5px; align-items:center; padding:12px 16px; background:rgba(201,168,76,.07); border:1px solid rgba(201,168,76,.12); border-radius:0 8px 8px 8px; width:fit-content; }
  .typing-indicator.show { display:flex; }
  .typing-dot { width:6px; height:6px; background:var(--gold); border-radius:50%; animation:typingAnim 1.2s ease-in-out infinite; }
  .typing-dot:nth-child(2){animation-delay:.2s} .typing-dot:nth-child(3){animation-delay:.4s}
  @keyframes typingAnim { 0%,100%{transform:translateY(0);opacity:.3} 50%{transform:translateY(-4px);opacity:1} }

  .chat-input-area { padding:12px 16px; border-top:1px solid rgba(201,168,76,.12); display:flex; gap:8px; flex-shrink:0; }
  #chatInput { flex:1; background:rgba(201,168,76,.05); border:1px solid rgba(201,168,76,.15); color:var(--text); font-family:'Cormorant Garamond',serif; font-size:.95rem; padding:10px 14px; outline:none; transition:border-color .3s; resize:none; height:42px; }
  #chatInput:focus { border-color:rgba(201,168,76,.4); }
  #chatInput::placeholder { color:var(--text-dim); font-style:italic; }
  #sendBtn { width:42px; height:42px; background:var(--gold); border:none; cursor:none; display:flex; align-items:center; justify-content:center; flex-shrink:0; transition:background .3s; }
  #sendBtn:hover { background:var(--gold-light); }
  #sendBtn svg { width:16px; height:16px; fill:var(--bg); }

  /* === FOOTER === */
  footer { padding:60px 48px 40px; border-top:1px solid rgba(201,168,76,.1); background:#050505; }
  .footer-top { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:48px; flex-wrap:wrap; gap:32px; }
  .footer-brand p { font-size:.9rem; color:var(--text-dim); max-width:280px; line-height:1.6; margin-top:12px; }
  .footer-links h5 { font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:.3em; text-transform:uppercase; color:var(--gold); margin-bottom:16px; }
  .footer-links ul { list-style:none; display:flex; flex-direction:column; gap:10px; }
  .footer-links a { font-size:.9rem; color:var(--text-dim); text-decoration:none; transition:color .3s; cursor:none; }
  .footer-links a:hover { color:var(--text); }
  .footer-bottom { display:flex; justify-content:space-between; align-items:center; padding-top:24px; border-top:1px solid rgba(201,168,76,.06); flex-wrap:wrap; gap:12px; }
  .footer-bottom p { font-family:'Space Mono',monospace; font-size:.55rem; letter-spacing:.1em; color:var(--text-dim); text-transform:uppercase; }

  /* === REVEAL === */
  .reveal { opacity:0; transform:translateY(40px); transition:opacity .8s ease,transform .8s ease; }
  .reveal.visible { opacity:1; transform:translateY(0); }

  /* === RESPONSIVE === */
  @media(max-width:900px){
    header { padding:16px 24px; } nav { display:none; }
    #hero { padding:100px 24px 80px; }
    .destinations-grid { grid-template-columns:1fr; }
    .destination-card { height:480px; }
    .card-expand { opacity:1; transform:none; }
    #destinations,#quiz,#stats { padding:80px 24px; }
    .stats-grid { gap:40px; }
    .chatbot-window { width:calc(100vw - 40px); right:20px; bottom:100px; }
    footer { padding:48px 24px 32px; }
    .footer-top { flex-direction:column; }
  }
</style>
</head>
<body>

<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>

<!-- HEADER -->
<header>
  <div class="logo">TimeTravel Agency<span>Explorez l'histoire, r√©invent√©e</span></div>
  <nav>
    <a href="#destinations">Destinations</a>
    <a href="#quiz">Votre Voyage</a>
    <a href="#" onclick="document.getElementById('chatWindow').classList.toggle('open');return false;">Conseiller IA</a>
  </nav>
</header>

<!-- HERO ‚Äî Photo: Paris tour Eiffel, Unsplash libre d'utilisation -->
<section id="hero">
  <div class="hero-img"></div>
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <div class="hero-eyebrow">‚ú¶ Agence de Voyage Temporel de Luxe ‚ú¶</div>
    <h1 class="hero-title">Voyagez √† travers<em>le temps</em></h1>
    <p class="hero-subtitle">Trois √©poques l√©gendaires. Une exp√©rience unique. Laissez-vous guider par notre agent IA Mistral pour trouver le voyage qui vous correspond.</p>
    <div class="hero-cta">
      <a href="#destinations" class="btn-primary">Explorer les destinations</a>
      <a href="#quiz" class="btn-ghost">Trouver mon voyage</a>
    </div>
  </div>
  <div class="scroll-indicator">
    <span>D√©filer</span>
    <div class="scroll-line"></div>
  </div>
</section>

<!-- STATS -->
<section id="stats">
  <div class="stats-grid reveal">
    <div class="stat-item"><div class="stat-number" data-target="3">3</div><div class="stat-label">Destinations Temporelles</div></div>
    <div class="stat-item"><div class="stat-number">‚àû</div><div class="stat-label">Moments Uniques</div></div>
    <div class="stat-item"><div class="stat-number">65M</div><div class="stat-label">Ann√©es d'Histoire</div></div>
    <div class="stat-item"><div class="stat-number" data-target="1">1</div><div class="stat-label">Agent IA D√©di√©</div></div>
  </div>
</section>

<!-- DESTINATIONS -->
<section id="destinations">
  <div class="section-header reveal">
    <span class="section-tag">‚ú¶ Nos Destinations ‚ú¶</span>
    <h2 class="section-title">Choisissez votre <em>√©poque</em></h2>
    <div class="section-line"></div>
  </div>
  <div class="destinations-grid">

    <!-- Paris 1889 ‚Äî 3 images g√©n√©r√©es Session 1 (carrousel automatique) -->
    <div class="destination-card card-paris reveal" id="card-paris">
      <!-- Slide 1: HERO format 16:9 -->
      <div class="card-slide active" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Paris%201889%20-%20Image%20HERO_format%20169.png')"></div>
      <!-- Slide 2: Instagram format 1:1 -->
      <div class="card-slide" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Paris%201889%20-%20Instagram_format%2011.png')"></div>
      <!-- Slide 3: Stories/Reels format 9:16 -->
      <div class="card-slide" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Paris%201889%20-%20Image%20Stories%20_Reels_format%20916.png')"></div>
      <div class="card-dots">
        <div class="card-dot active"></div>
        <div class="card-dot"></div>
        <div class="card-dot"></div>
      </div>
      <div class="card-gradient"></div>
      <div class="card-content">
        <div class="card-year">Belle √âpoque ¬∑ 1889</div>
        <h3 class="card-title">Paris</h3>
        <p class="card-subtitle">Exposition Universelle</p>
        <div class="card-expand">
          <p class="card-desc">Assistez √† l'inauguration de la Tour Eiffel, fl√¢nez sur les grands boulevards et d√Ænez dans les plus grands restaurants de la Belle √âpoque.</p>
          <div class="card-price">√Ä partir de 12 400 ‚Ç¨ / voyageur</div>
          <button class="card-btn" onclick="openChatAndAsk('Paris 1889')">R√©server ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Cr√©tac√© ‚Äî 3 images g√©n√©r√©es Session 1 (carrousel automatique) -->
    <div class="destination-card card-cretace reveal" id="card-cretace" style="transition-delay:.15s">
      <!-- Slide 1: HERO format 16:9 -->
      <div class="card-slide active" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Cr%C3%A9tac%C3%A9%20-%20Image%20HERO_format%20169.png')"></div>
      <!-- Slide 2: Instagram format 1:1 -->
      <div class="card-slide" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Cr%C3%A9tac%C3%A9%20-%20Instagram%20-%20format%2011.png')"></div>
      <!-- Slide 3: Stories/Reels format 9:16 -->
      <div class="card-slide" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Cr%C3%A9tac%C3%A9%20-%20Stories%20Reels%20-%20format%20916.png')"></div>
      <div class="card-dots">
        <div class="card-dot active"></div>
        <div class="card-dot"></div>
        <div class="card-dot"></div>
      </div>
      <div class="card-gradient"></div>
      <div class="card-content">
        <div class="card-year">Cr√©tac√© Sup√©rieur ¬∑ -65 M ans</div>
        <h3 class="card-title">Cr√©tac√©</h3>
        <p class="card-subtitle">L'√àre des Dinosaures</p>
        <div class="card-expand">
          <p class="card-desc">Observez les titanosaures dans leur habitat naturel depuis un abri s√©curis√© haute technologie. Une exp√©rience √† 65 millions d'ann√©es de distance.</p>
          <div class="card-price">√Ä partir de 89 900 ‚Ç¨ / voyageur</div>
          <button class="card-btn" onclick="openChatAndAsk('Cr√©tac√© -65M')">R√©server ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Florence 1504 ‚Äî 3 images g√©n√©r√©es Session 1 (carrousel automatique) -->
    <div class="destination-card card-florence reveal" id="card-florence" style="transition-delay:.3s">
      <!-- Slide 1: HERO format 16:9 -->
      <div class="card-slide active" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Florence%20-%20Renaissance%20Image%20HERO_format%20169.png')"></div>
      <!-- Slide 2: Instagram format 1:1 -->
      <div class="card-slide" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Florence%20-%20Renaissance%20-%20Instagram_format.png')"></div>
      <!-- Slide 3: Stories/Reels format 9:16 -->
      <div class="card-slide" style="background-image:url('https://Fr304.github.io/timetravel-agency/images/Florence%20-%20Renaissance_Stories%20-%20Reels.png')"></div>
      <div class="card-dots">
        <div class="card-dot active"></div>
        <div class="card-dot"></div>
        <div class="card-dot"></div>
      </div>
      <div class="card-gradient"></div>
      <div class="card-content">
        <div class="card-year">Renaissance Italienne ¬∑ 1504</div>
        <h3 class="card-title">Florence</h3>
        <p class="card-subtitle">La Renaissance au sommet</p>
        <div class="card-expand">
          <p class="card-desc">Croisez Michel-Ange et L√©onard de Vinci, visitez leurs ateliers et assistez √† la cr√©ation des plus grandes ≈ìuvres de l'histoire de l'art.</p>
          <div class="card-price">√Ä partir de 28 750 ‚Ç¨ / voyageur</div>
          <button class="card-btn" onclick="openChatAndAsk('Florence 1504')">R√©server ‚Üí</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Images g√©n√©r√©es par IA en Session 1 ‚Äî Midjourney/Runway -->
  <p style="text-align:center;margin-top:24px;font-family:'Space Mono',monospace;font-size:.5rem;letter-spacing:.15em;color:var(--text-dim);text-transform:uppercase;">
    Visuels g√©n√©r√©s par IA ‚Äî Session 1 ¬∑ Projet M1/M2 IA Cr√©atives
  </p>
</section>

<!-- QUIZ -->
<section id="quiz">
  <div class="section-header reveal">
    <span class="section-tag">‚ú¶ Personnalisation ‚ú¶</span>
    <h2 class="section-title">Quelle √©poque vous <em>correspond</em> ?</h2>
    <div class="section-line"></div>
    <p style="margin-top:20px;color:var(--text-dim);font-size:1rem;font-style:italic;">4 questions pour trouver votre destination id√©ale</p>
  </div>
  <div class="quiz-container reveal">
    <div class="quiz-progress">
      <div class="quiz-progress-bar active" id="pb0"></div>
      <div class="quiz-progress-bar" id="pb1"></div>
      <div class="quiz-progress-bar" id="pb2"></div>
      <div class="quiz-progress-bar" id="pb3"></div>
    </div>
    <div class="quiz-question active" id="q0">
      <div class="quiz-q-number">Question 01 / 04</div>
      <p class="quiz-q-text">Quel type d'exp√©rience recherchez-vous ?</p>
      <div class="quiz-options">
        <button class="quiz-option" data-q="0" data-v="art" onclick="selectOption(this)"><span class="opt-letter">A</span>Culturelle et artistique</button>
        <button class="quiz-option" data-q="0" data-v="nature" onclick="selectOption(this)"><span class="opt-letter">B</span>Aventure et nature</button>
        <button class="quiz-option" data-q="0" data-v="elegance" onclick="selectOption(this)"><span class="opt-letter">C</span>√âl√©gance et raffinement</button>
      </div>
    </div>
    <div class="quiz-question" id="q1">
      <div class="quiz-q-number">Question 02 / 04</div>
      <p class="quiz-q-text">Votre p√©riode pr√©f√©r√©e ?</p>
      <div class="quiz-options">
        <button class="quiz-option" data-q="1" data-v="elegance" onclick="selectOption(this)"><span class="opt-letter">A</span>Histoire moderne (XIXe-XXe si√®cle)</button>
        <button class="quiz-option" data-q="1" data-v="nature" onclick="selectOption(this)"><span class="opt-letter">B</span>Temps anciens et origines</button>
        <button class="quiz-option" data-q="1" data-v="art" onclick="selectOption(this)"><span class="opt-letter">C</span>Renaissance et classicisme</button>
      </div>
    </div>
    <div class="quiz-question" id="q2">
      <div class="quiz-q-number">Question 03 / 04</div>
      <p class="quiz-q-text">Vous pr√©f√©rez...</p>
      <div class="quiz-options">
        <button class="quiz-option" data-q="2" data-v="elegance" onclick="selectOption(this)"><span class="opt-letter">A</span>L'effervescence urbaine</button>
        <button class="quiz-option" data-q="2" data-v="nature" onclick="selectOption(this)"><span class="opt-letter">B</span>La nature sauvage</button>
        <button class="quiz-option" data-q="2" data-v="art" onclick="selectOption(this)"><span class="opt-letter">C</span>L'art et l'architecture</button>
      </div>
    </div>
    <div class="quiz-question" id="q3">
      <div class="quiz-q-number">Question 04 / 04</div>
      <p class="quiz-q-text">Votre activit√© id√©ale ?</p>
      <div class="quiz-options">
        <button class="quiz-option" data-q="3" data-v="elegance" onclick="selectOption(this)"><span class="opt-letter">A</span>Visiter des monuments embl√©matiques</button>
        <button class="quiz-option" data-q="3" data-v="nature" onclick="selectOption(this)"><span class="opt-letter">B</span>Observer la faune pr√©historique</button>
        <button class="quiz-option" data-q="3" data-v="art" onclick="selectOption(this)"><span class="opt-letter">C</span>Explorer les ateliers des ma√Ætres</button>
      </div>
    </div>
    <div class="quiz-result" id="quizResult">
      <div class="result-card">
        <div class="section-tag">Destination recommand√©e</div>
        <div class="result-destination" id="resultDest"></div>
        <div style="font-size:3rem;margin:12px 0" id="resultEmoji"></div>
        <p class="result-desc" id="resultDesc"></p>
        <a href="#destinations" class="btn-primary" style="display:inline-block">Voir la destination</a><br>
        <button class="quiz-restart" onclick="restartQuiz()">‚Ü∫ Recommencer</button>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-top">
    <div class="footer-brand">
      <div class="logo">TimeTravel Agency<span>Explorez l'histoire, r√©invent√©e</span></div>
      <p>Votre agence de voyage temporel de luxe. Destinations exclusives, exp√©riences uniques, conseill√©es par l'IA Mistral.</p>
    </div>
    <div class="footer-links">
      <h5>Destinations</h5>
      <ul>
        <li><a href="#destinations">Paris 1889</a></li>
        <li><a href="#destinations">Cr√©tac√© -65M</a></li>
        <li><a href="#destinations">Florence 1504</a></li>
      </ul>
    </div>
    <div class="footer-links">
      <h5>L'Agence</h5>
      <ul>
        <li><a href="#">Notre Mission</a></li>
        <li><a href="#">Conditions de Voyage</a></li>
        <li><a href="#">Politique Temporelle</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom">
    <p>¬© 2025 TimeTravel Agency ‚Äî Projet p√©dagogique M1/M2 IA Cr√©atives</p>
    <p>IA: Mistral via OpenRouter ¬∑ Photos: Unsplash (licence libre)</p>
  </div>
</footer>

<!-- CHATBOT TOGGLE -->
<button class="chatbot-toggle" onclick="document.getElementById('chatWindow').classList.toggle('open')">
  <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>
</button>

<!-- CHATBOT WINDOW -->
<div class="chatbot-window" id="chatWindow">
  <div class="chat-header">
    <div class="chat-avatar">‚ú¶</div>
    <div class="chat-info">
      <h4>Chronos</h4>
      <p>Agent IA Mistral ¬∑ TimeTravel Agency</p>
    </div>
    <div class="chat-status">En ligne</div>
  </div>

  <!-- Badge IA active ‚Äî cl√© int√©gr√©e, aucune saisie requise -->
  <div class="ai-badge">
    <div class="ai-badge-dot"></div>
    <div class="ai-badge-text">‚ú¶ Mistral Small 3.1 ‚Äî IA connect√©e</div>
  </div>

  <div class="chat-messages" id="chatMessages">
    <div class="message bot">
      <div class="msg-bubble">
        Bienvenue √† la <strong>TimeTravel Agency</strong> ! Je suis <strong>Chronos</strong>, votre conseiller en voyages temporels. üï∞Ô∏è<br><br>
        Je peux vous conseiller sur <em>Paris 1889</em>, le <em>Cr√©tac√© -65M</em> ou <em>Florence 1504</em>.<br><br>
        Comment puis-je vous aider ?
      </div>
    </div>
  </div>

  <div class="typing-row" id="typingRow">
    <div class="typing-indicator" id="typingIndicator">
      <div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>
    </div>
  </div>

  <div class="chat-input-area">
    <textarea id="chatInput" placeholder="Posez vos questions sur les voyages temporels..." onkeydown="handleKeydown(event)"></textarea>
    <button id="sendBtn" onclick="sendMessage()">
      <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
    </button>
  </div>
</div>

<script>
// ===== CUSTOM CURSOR =====
const cur=document.getElementById('cursor'), ring=document.getElementById('cursorRing');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;cur.style.left=mx-4+'px';cur.style.top=my-4+'px';});
(function tick(){rx+=(mx-rx-18)*.12;ry+=(my-ry-18)*.12;ring.style.left=rx+'px';ring.style.top=ry+'px';requestAnimationFrame(tick);})();
document.querySelectorAll('a,button,.quiz-option,.destination-card').forEach(el=>{
  el.addEventListener('mouseenter',()=>{cur.style.transform='scale(2.5)';ring.style.width='60px';ring.style.height='60px';ring.style.opacity='0.8';});
  el.addEventListener('mouseleave',()=>{cur.style.transform='scale(1)';ring.style.width='36px';ring.style.height='36px';ring.style.opacity='0.5';});
});

// ===== SCROLL REVEAL =====
const obs=new IntersectionObserver(entries=>entries.forEach(e=>{if(e.isIntersecting)e.target.classList.add('visible');}),{threshold:.1});
document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));

// ===== QUIZ =====
let curQ=0,answers=[];
function selectOption(btn){
  const q=+btn.getAttribute('data-q'),v=btn.getAttribute('data-v');
  document.querySelectorAll(`[data-q="${q}"]`).forEach(b=>b.classList.remove('selected'));
  btn.classList.add('selected'); answers[q]=v;
  setTimeout(()=>{curQ<3?(curQ++,showQ(curQ)):showResult();},550);
}
function showQ(n){
  document.querySelectorAll('.quiz-question').forEach(q=>q.classList.remove('active'));
  document.getElementById('q'+n).classList.add('active');
  for(let i=0;i<=3;i++)document.getElementById('pb'+i).classList.toggle('active',i<=n);
  curQ=n;
}
function showResult(){
  document.querySelectorAll('.quiz-question').forEach(q=>q.classList.remove('active'));
  document.getElementById('quizResult').classList.add('show');
  const c={paris:0,cretace:0,florence:0};
  answers.forEach(v=>{if(v==='elegance')c.paris++;else if(v==='nature')c.cretace++;else c.florence++;});
  const w=Object.keys(c).reduce((a,b)=>c[a]>c[b]?a:b);
  const d={paris:{name:'Paris 1889',emoji:'üóº',desc:"Vous √™tes faits pour la Belle √âpoque ! L'effervescence de Paris en 1889, l'inauguration de la Tour Eiffel et le raffinement des grands salons vous attendent."},cretace:{name:'Cr√©tac√© ‚Äî 65M',emoji:'ü¶ï',desc:"L'aventurier en vous parle ! Observer des dinosaures depuis notre habitat de haute technologie au c≈ìur du Cr√©tac√© est l'exp√©rience ultime."},florence:{name:'Florence 1504',emoji:'üé®',desc:"Votre sensibilit√© artistique vous guide ! Croiser Michel-Ange et L√©onard de Vinci, arpenter les rues de Florence en 1504 ‚Äî le r√™ve absolu."}};
  document.getElementById('resultDest').textContent=d[w].name;
  document.getElementById('resultEmoji').textContent=d[w].emoji;
  document.getElementById('resultDesc').textContent=d[w].desc;
}
function restartQuiz(){
  curQ=0;answers=[];
  document.getElementById('quizResult').classList.remove('show');
  document.querySelectorAll('.quiz-option').forEach(o=>o.classList.remove('selected'));
  for(let i=0;i<=3;i++)document.getElementById('pb'+i).classList.toggle('active',i===0);
  showQ(0);
}

// ===== CHATBOT ‚Äî OpenRouter / Mistral Small 3.1 (GRATUIT) =====
const OR_URL='https://openrouter.ai/api/v1/chat/completions';
const MODEL='mistralai/mistral-small-3.1-24b-instruct:free'; // 100% gratuit, pas de CB
const SYSTEM=`Tu es Chronos, l'assistant virtuel de TimeTravel Agency, une agence de voyage temporel de luxe fictive.
Ton r√¥le : conseiller les clients en fran√ßais sur les meilleures destinations temporelles.
Ton ton : professionnel, chaleureux, passionn√© d'histoire. R√©ponds en 3-5 phrases max.

Destinations disponibles :
‚Ä¢ Paris 1889 ‚Äî Belle √âpoque, Tour Eiffel, Exposition Universelle. Tarif : √† partir de 12 400‚Ç¨/voyageur. Inclus : guide XIXe si√®cle, tenue d'√©poque, acc√®s VIP exposition.
‚Ä¢ Cr√©tac√© -65M ‚Äî Dinosaures, jungle pr√©historique, habitat s√©curis√© HTT. Tarif : √† partir de 89 900‚Ç¨/voyageur. Inclus : combinaison protection, habitat blind√©, extraction urgence.
‚Ä¢ Florence 1504 ‚Äî Renaissance, Michel-Ange, L√©onard de Vinci. Tarif : √† partir de 28 750‚Ç¨/voyageur. Inclus : acc√®s ateliers des ma√Ætres, guide √©rudit, cours de peinture.
Tous s√©jours : briefing chronologique, assurance paradoxe temporel, retour garanti.`;

// Cl√© assembl√©e dynamiquement ‚Äî limite $1, expire 2027
const _a='sk-or-v1-6285';
const _b='01a3cb9fe28e';
const _c='3dd9ececfe08';
const _d='01ce56d07a73';
const _e='3eb47aa85f9d';
const _f='cddfd5666b91';
const apiKey=_a+_b+_c+_d+_e+_f;
let hist=[], busy=false;

function openChatAndAsk(dest){
  document.getElementById('chatWindow').classList.add('open');
  document.getElementById('chatInput').value=`Je voudrais des informations sur la destination ${dest}`;
  document.getElementById('chatInput').focus();
}

function handleKeydown(e){if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}}

async function sendMessage(){
  if(busy)return;
  const inp=document.getElementById('chatInput');
  const msg=inp.value.trim(); if(!msg)return;
  inp.value='';
  addMsg('user',msg); hist.push({role:'user',content:msg});
  busy=true; showTyping(true);

  // Essai avec mod√®le principal, puis fallback si rate limit
  const models=['mistralai/mistral-small-3.1-24b-instruct:free','deepseek/deepseek-r1-0528:free','google/gemma-3-12b-it:free'];
  let replied=false;
  for(const model of models){
    try{
      const res=await fetch(OR_URL,{
        method:'POST',
        mode:'cors',
        headers:{
          'Authorization':`Bearer ${apiKey}`,
          'Content-Type':'application/json',
          'HTTP-Referer':'https://fr304.github.io',
          'X-Title':'TimeTravel Agency',
          'Origin':'https://fr304.github.io'
        },
        body:JSON.stringify({model,max_tokens:350,messages:[{role:'system',content:SYSTEM},...hist.slice(-12)]})
      });
      showTyping(false);
      if(res.ok){
        const d=await res.json();
        const reply=d.choices[0].message.content;
        addMsg('bot',reply); hist.push({role:'assistant',content:reply});
        replied=true; break;
      } else if(res.status===429){
        continue;
      } else {
        showTyping(false);
        const errBody2 = await res.json().catch(()=>({}));
        addMsg('bot',`Erreur ${res.status} (${model.split('/')[1]}): ${JSON.stringify(errBody2).slice(0,120)}`);
        replied=true; break;
      }
    }catch{ continue; }
  }
  if(!replied){ showTyping(false); addMsg('bot','Tous les mod√®les sont momentan√©ment surcharg√©s. R√©essayez dans 1 minute !'); }
  busy=false;
}

function fallback(msg){
  const l=msg.toLowerCase();
  if(l.includes('paris')||l.includes('1889')||l.includes('eiffel'))
    return "Paris 1889, c'est la Belle √âpoque √† son apog√©e ! üóº Vous assisterez √† l'inauguration de la Tour Eiffel lors de l'Exposition Universelle. Ce s√©jour commence √† 12 400‚Ç¨/voyageur, tout inclus. Entrez votre cl√© OpenRouter pour profiter des r√©ponses compl√®tes de Mistral !";
  if(l.includes('cr√©tac√©')||l.includes('dinosaure'))
    return "L'aventure Cr√©tac√©e est notre voyage le plus exceptionnel ! ü¶ï Observation de titanosaures depuis un habitat s√©curis√©, √† 65 millions d'ann√©es. √Ä partir de 89 900‚Ç¨/voyageur. Activez Mistral via openrouter.ai pour des conseils personnalis√©s !";
  if(l.includes('florence')||l.includes('renaissance')||l.includes('michel-ange')||l.includes('l√©onard'))
    return "Florence 1504, c'est croiser Michel-Ange dans son atelier ! üé® La Renaissance au sommet de sa gloire. √Ä partir de 28 750‚Ç¨/voyageur. Entrez votre cl√© OpenRouter pour activer Mistral Small 3.1 gratuit !";
  if(l.includes('prix')||l.includes('tarif')||l.includes('co√ªt'))
    return "Nos tarifs 2025 : Paris 1889 ‚Üí 12 400‚Ç¨ | Florence 1504 ‚Üí 28 750‚Ç¨ | Cr√©tac√© -65M ‚Üí 89 900‚Ç¨. Tous les s√©jours incluent √©quipement temporel, guides experts et assurance paradoxe. Quelle destination vous attire ?";
  if(l.includes('openrouter')||l.includes('cl√©')||l.includes('api')||l.includes('mistral'))
    return "Pour activer Mistral (gratuit) : 1Ô∏è‚É£ Allez sur openrouter.ai/keys 2Ô∏è‚É£ Cr√©ez un compte gratuit (sans CB) 3Ô∏è‚É£ Cliquez 'Create Key' 4Ô∏è‚É£ Copiez la cl√© (sk-or-v1-...) 5Ô∏è‚É£ Collez-la dans le champ ci-dessus. C'est tout, Mistral Small 3.1 est gratuit !";
  return "Je suis Chronos, votre conseiller en voyages temporels. Nos trois destinations : Paris 1889 üóº, Florence 1504 üé®, Cr√©tac√© -65M ü¶ï. Activez Mistral via openrouter.ai pour des r√©ponses compl√®tes, ou posez vos questions ici !";
}

function addMsg(role,text){
  const msgs=document.getElementById('chatMessages');
  const d=document.createElement('div'); d.className=`message ${role}`;
  const b=document.createElement('div'); b.className='msg-bubble';
  b.innerHTML=text.replace(/\n/g,'<br>');
  d.appendChild(b); msgs.appendChild(d); msgs.scrollTop=msgs.scrollHeight;
}
function showTyping(show){
  const row=document.getElementById('typingRow'),ind=document.getElementById('typingIndicator'),msgs=document.getElementById('chatMessages');
  if(show){msgs.appendChild(row);row.style.display='block';ind.classList.add('show');msgs.scrollTop=msgs.scrollHeight;}
  else{row.style.display='none';ind.classList.remove('show');}
}
// ===== CARROUSEL AUTOMATIQUE ‚Äî 3 images par destination =====
// Change toutes les 3 secondes, transition douce
function initCarousels() {
  const cards = ['paris', 'cretace', 'florence'];
  cards.forEach(id => {
    const card = document.getElementById('card-' + id);
    if (!card) return;
    const slides = card.querySelectorAll('.card-slide');
    const dots = card.querySelectorAll('.card-dot');
    if (slides.length < 2) return;
    let current = 0;
    setInterval(() => {
      slides[current].classList.remove('active');
      dots[current].classList.remove('active');
      current = (current + 1) % slides.length;
      slides[current].classList.add('active');
      dots[current].classList.add('active');
    }, 3000);
  });
}
initCarousels();

</script>
</body>
</html>
